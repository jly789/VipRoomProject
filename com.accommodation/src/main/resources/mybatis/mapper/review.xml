<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-/mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="vip.com.accommodation.mapper.review.ReviewMapper">

        <select id="maxNum" resultType="int">
            select ifnull(max(reviewId),0) from review
        </select>



    <insert id="insertReviewNotImage"  parameterType="vip.com.accommodation.dto.review.ReviewInsertDto">

        insert into review(reviewId,memberId,accommodationId,reservationId,views,grade,reviewSubject,reviewContent,reviewFileName,reviewFilePath,reviewState,
                           reviewDate)
        values (#{reviewId},#{memberId},#{accommodationId},#{reservationId},0,#{grade}
               ,#{reviewSubject},#{reviewContent},#{reviewFileName},#{reviewFilePath},'리뷰완료',sysdate())


    </insert>


    <insert id="insertReviewData"  parameterType="vip.com.accommodation.dto.review.ReviewInsertDto">

        insert into review(reviewId,memberId,accommodationId,reservationId,views,grade,reviewSubject,reviewContent,reviewFileName,reviewFilePath,reviewState,
                           reviewDate)
        values (#{reviewId},#{memberId},#{accommodationId},#{reservationId},0,#{grade}
               ,#{reviewSubject},#{reviewContent},#{reviewFileName},#{reviewFilePath},'리뷰완료',sysdate())


    </insert>








</mapper>
